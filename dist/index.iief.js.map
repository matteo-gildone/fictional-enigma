{"version":3,"file":"index.iief.js","sources":["../js/store/index.js","../js/store/applyMiddleware.js","../js/html/tags.js","../js/html/element.js","../js/html/index.js","../js/poll/views/viewTitle.js","../js/poll/handlers.js","../js/utils.js","../js/poll/views/viewOptions.js","../js/poll/views/viewQuestion.js","../js/poll/views/viewSubmitButton.js","../js/poll/views/viewForm.js","../js/poll/views/viewFeedback.js","../js/poll/reducer.js","../js/poll/index.js"],"sourcesContent":["export default function createStore(reducer, initialState = {}, enhancer) {\n  if (typeof initialState === \"function\" && typeof enhancer === \"undefined\") {\n    enhancer = initialState;\n    initialState = undefined;\n  }\n  const store = {};\n  let state = initialState;\n  const listeners = [];\n  store.getState = () => state;\n  store.dispatch = action => {\n    state = reducer(state, action);\n    listeners.forEach(listener => listener(store));\n  };\n  store.subscribe = listener => {\n    listeners.push(listener);\n    return () => {\n      const index = listeners.indexOf(listener);\n      listeners.splice(index, 1);\n    };\n  };\n  return store;\n}\n","export default (...middlewareFactories) => createStore => (...args) => {\n  const store = createStore(...args);\n  let dispatch = store.dispatch;\n  middlewareFactories.forEach(factory => {\n    dispatch = factory(store)(dispatch);\n  });\n  store.dispatch = dispatch;\n  return store;\n};\n","const tagsList = [\n  \"a\",\n  \"abbr\",\n  \"acronym\",\n  \"address\",\n  \"applet\",\n  \"area\",\n  \"article\",\n  \"aside\",\n  \"audio\",\n  \"b\",\n  \"base\",\n  \"basefont\",\n  \"bdi\",\n  \"bdo\",\n  \"bgsound\",\n  \"big\",\n  \"blink\",\n  \"blockquote\",\n  \"body\",\n  \"br\",\n  \"button\",\n  \"canvas\",\n  \"caption\",\n  \"center\",\n  \"cite\",\n  \"code\",\n  \"col\",\n  \"colgroup\",\n  \"command\",\n  \"content\",\n  \"data\",\n  \"datalist\",\n  \"dd\",\n  \"del\",\n  \"details\",\n  \"dfn\",\n  \"dialog\",\n  \"dir\",\n  \"div\",\n  \"dl\",\n  \"dt\",\n  \"element\",\n  \"em\",\n  \"embed\",\n  \"fieldset\",\n  \"figcaption\",\n  \"figure\",\n  \"font\",\n  \"footer\",\n  \"form\",\n  \"frame\",\n  \"frameset\",\n  \"h1\",\n  \"h2\",\n  \"h3\",\n  \"h4\",\n  \"h5\",\n  \"h6\",\n  \"head\",\n  \"header\",\n  \"hgroup\",\n  \"hr\",\n  \"html\",\n  \"i\",\n  \"iframe\",\n  \"image\",\n  \"img\",\n  \"input\",\n  \"ins\",\n  \"isindex\",\n  \"kbd\",\n  \"keygen\",\n  \"label\",\n  \"legend\",\n  \"li\",\n  \"link\",\n  \"listing\",\n  \"main\",\n  \"map\",\n  \"mark\",\n  \"marquee\",\n  \"math\",\n  \"menu\",\n  \"menuitem\",\n  \"meta\",\n  \"meter\",\n  \"multicol\",\n  \"nav\",\n  \"nextid\",\n  \"nobr\",\n  \"noembed\",\n  \"noframes\",\n  \"noscript\",\n  \"object\",\n  \"ol\",\n  \"optgroup\",\n  \"option\",\n  \"output\",\n  \"p\",\n  \"param\",\n  \"picture\",\n  \"plaintext\",\n  \"pre\",\n  \"progress\",\n  \"q\",\n  \"rb\",\n  \"rbc\",\n  \"rp\",\n  \"rt\",\n  \"rtc\",\n  \"ruby\",\n  \"s\",\n  \"samp\",\n  \"script\",\n  \"section\",\n  \"select\",\n  \"shadow\",\n  \"slot\",\n  \"small\",\n  \"source\",\n  \"spacer\",\n  \"span\",\n  \"strike\",\n  \"strong\",\n  \"style\",\n  \"sub\",\n  \"summary\",\n  \"sup\",\n  \"svg\",\n  \"table\",\n  \"tbody\",\n  \"td\",\n  \"template\",\n  \"textarea\",\n  \"tfoot\",\n  \"th\",\n  \"thead\",\n  \"time\",\n  \"title\",\n  \"tr\",\n  \"track\",\n  \"tt\",\n  \"u\",\n  \"ul\",\n  \"var\",\n  \"video\",\n  \"wbr\",\n  \"xmp\"\n];\nexport default tagsList;\n","export default tag => {\n  return attributes => {\n    const element = document.createElement(tag);\n    const events = [\n      \"click\",\n      \"submit\",\n      \"focus\",\n      \"keydown\",\n      \"keyup\",\n      \"change\",\n      \"keypress\"\n    ];\n    if (attributes) {\n      Object.keys(attributes).forEach(function(attribute) {\n        if (events.indexOf(attribute) < 0) {\n          element.setAttribute(attribute, attributes[attribute]);\n        } else {\n          element.addEventListener(attribute, attributes[attribute], false);\n        }\n      });\n    }\n    return children => {\n      if (children && children.text) {\n        element.textContent = children.text;\n      }\n      if (children && children.length) {\n        const fragment = document.createDocumentFragment();\n        children.forEach(function(child) {\n          fragment.appendChild(child);\n        });\n        element.appendChild(fragment);\n      }\n      return element;\n    };\n  };\n};\n","import tagsList from \"./tags.js\";\nimport Element from \"./element.js\";\n\nconst tags = tagsList.reduce((acc, next) => {\n  acc[next] = Element(next);\n  return acc;\n}, {});\n\nexport { tags };\n","import { tags } from \"../../html/index.js\";\n\nconst { h1 } = tags;\nconst viewTitle = state => {\n  return h1({ class: \"c-survey__title\" })({\n    text: state.title\n  });\n};\n\nexport { viewTitle };\n","export const submitForm = dispatch => e => {\n  e.preventDefault();\n  const elements =\n    e.target && e.target.elements\n      ? Array.prototype.slice.call(e.target.elements)\n      : [];\n\n  elements.reduce(\n    (element, next) =>\n      next.nodeName === \"INPUT\" &&\n      (next.checked || next.type === \"text\") &&\n      next.value\n        ? element.concat(next.value)\n        : element,\n    []\n  );\n\n  if (elements.length > 0) {\n    dispatch({\n      type: \"VOTE\",\n      payload: { vote: elements.join(\", \") }\n    });\n  }\n};\n\nexport const registerVote = state => {\n  const votes = JSON.parse(localStorage.getItem(\"mago-polls\")) || [];\n  votes.push(state.doi);\n  localStorage.setItem(\"mago-polls\", JSON.stringify(votes));\n};\n\nexport const sendEventToGa = (state, cb) => {\n  if (window.ga && typeof window.ga === \"function\") {\n    window.ga(\"send\", \"event\", {\n      eventCategory: state.vote,\n      eventAction: state.id,\n      eventLabel: state.doi + \":\" + state.articleType,\n      hitCallback: cb\n    });\n  }\n};\n\nexport const isPollVoted = doi => {\n  const votes = JSON.parse(localStorage.getItem(\"mago-polls\")) || [];\n  return votes.indexOf(doi) > -1 ? true : false;\n};\n\nexport const limitCharacters = e => {\n  var max_chars = 60;\n  if (e.target.value.length > max_chars) {\n    e.target.value = e.target.value.substr(0, max_chars);\n  }\n};\n","export const noop = function() {};\n\nexport const shuffle = function(arr) {\n  const options = arr.slice();\n  return options\n    .map(a => [Math.random(), a])\n    .sort((a, b) => a[0] - b[0])\n    .map(a => a[1]);\n};\n\nexport const slugify = function(string) {\n  const a = \"àáäâãåèéëêìíïîòóöôùúüûñçßÿœæŕśńṕẃǵǹḿǘẍźḧ·/_,:;\";\n  const b = \"aaaaaaeeeeiiiioooouuuuncsyoarsnpwgnmuxzh------\";\n  const p = new RegExp(a.split(\"\").join(\"|\"), \"g\");\n  return string\n    .toString()\n    .toLowerCase()\n    .replace(/\\s+/g, \"-\") // Replace spaces with\n    .replace(p, c => b.charAt(a.indexOf(c))) // Replace special characters\n    .replace(/&/g, \"-and-\") // Replace & with ‘and’\n    .replace(/[^\\w\\-]+/g, \"\") // Remove all non-word characters\n    .replace(/\\-\\-+/g, \"-\") // Replace multiple — with single -\n    .replace(/^-+/, \"\"); // Trim — from start of text .replace(/-+$/, '') // Trim — from end of text\n};\n\nexport const guidGenerator = () => {\n  const S4 = () => {\n    return (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1);\n  };\n  return (\n    S4() +\n    S4() +\n    \"-\" +\n    S4() +\n    \"-\" +\n    S4() +\n    \"-\" +\n    S4() +\n    \"-\" +\n    S4() +\n    S4() +\n    S4()\n  );\n};\n","import { tags } from \"../../html/index.js\";\nimport { limitCharacters } from \"../handlers.js\";\nimport { slugify, noop, shuffle } from \"../../utils.js\";\nconst { label, input, li, ul } = tags;\n\nconst checkClosestRadio = e => {\n  const parent = e.target.closest(\".c-survey__options-container\");\n  parent.querySelector(\".opt-more\").checked = true;\n};\n\nconst focusClosestInputText = e => {\n  const parent = e.target.closest(\".c-survey__options-container\");\n  if (e.target.checked && e.target.classList.contains(\"opt-more\")) {\n    parent.querySelector(\".opt-more-text\").focus();\n  } else {\n    parent.querySelector(\".opt-more-text\").value = \"\";\n  }\n};\n\nconst viewMoreOption = state => {\n  return li({ class: \"c-survey__item c-survey__checkbox\" })([\n    input({\n      class: \"opt-more\",\n      type: state.multiple ? \"checkbox\" : \"radio\",\n      name: `option-${state.id}`,\n      value: \"opt-more\",\n      change: focusClosestInputText\n    })(),\n    label()([\n      input({\n        class: \"opt-more-text\",\n        type: \"text\",\n        name: `opt-more-text-${state.id}`,\n        keypress: limitCharacters,\n        focus: checkClosestRadio\n      })()\n    ])\n  ]);\n};\n\nconst viewOptions = state => {\n  const options = state.shuffle\n    ? shuffle(state.options.split(\", \"))\n    : state.options.split(\", \");\n  const optionList = options.map(option => {\n    return li({ class: \"c-survey__item c-survey__checkbox\" })([\n      input({\n        id: \"opt-\" + slugify(option),\n        type: state.multiple ? \"checkbox\" : \"radio\",\n        name: `option-${state.id}`,\n        value: option,\n        change: state.moreOption ? focusClosestInputText : noop\n      })(),\n      label({ for: \"opt-\" + slugify(option) })({ text: option })\n    ]);\n  });\n  if (state.moreOption) {\n    optionList.push(viewMoreOption(state));\n  }\n  return ul({ class: \"c-survey__options-container u-clean-list\" })(optionList);\n};\n\nexport { viewOptions };\n","import { tags } from \"../../html/index.js\";\nimport { viewOptions } from \"./viewOptions.js\";\n\nconst { div, p } = tags;\nconst viewQuestion = state => {\n  const { questions } = state;\n  const result = questions.map(question => {\n    return div({ class: `${question.shuffle ? \"c-survey--shuffled\" : \"\"}` })([\n      p({ class: \"c-survey__question\" })({\n        text: question.text\n      }),\n      viewOptions(question)\n    ]);\n  });\n  return div()(result);\n};\n\nexport { viewQuestion };\n","import { tags } from \"../../html/index.js\";\n\nconst { button } = tags;\n\nconst viewSubmitButton = () => {\n  return button({ class: \"c-survey__submit\", type: \"submit\" })({\n    text: \"Confirm\"\n  });\n};\n\nexport { viewSubmitButton };\n","import { tags } from \"../../html/index.js\";\nimport { submitForm } from \"../handlers.js\";\n\nconst { div, form } = tags;\n\nconst viewForm = (state, dispatch, children = []) => {\n  if (\n    state.questions &&\n    state.questions.length > 0 &&\n    typeof dispatch === \"function\"\n  ) {\n    return div({\n      class: \"c-survey\"\n    })([\n      form({ id: \"survey-form\", submit: submitForm(dispatch) })(\n        children.map(child => child(state, dispatch))\n      )\n    ]);\n  } else {\n    return div({\n      class: \"c-survey\"\n    })({ text: \"No questions added.\" });\n  }\n};\n\nexport { viewForm };\n","import { viewTitle } from \"./viewTitle.js\";\nimport { tags } from \"../../html/index.js\";\nconst { div, a, span, p } = tags;\n\nconst viewFeedback = state => {\n  return div({ class: \"c-survey\" })([\n    div({ class: \"c-survey__feedback\" })([\n      viewTitle({\n        title: state.thankYouMessageTitle\n      }),\n      p()([\n        span()({\n          text: `${state.thankYouMessageText} `\n        }),\n        a({\n          href: state.thankYouCtaLink,\n          rel: \"noreferrer noopener\",\n          target: \"_blank\"\n        })({ text: state.thankYouCtaText })\n      ])\n    ])\n  ]);\n};\n\nexport { viewFeedback };\n","export default (registerVote, sendEventToGa) => (state = {}, action) => {\n  let newState;\n  switch (action.type) {\n    case \"INIT\":\n      newState = Object.assign({}, state, action.payload);\n      return newState;\n    case \"VOTE\":\n      newState = Object.assign({}, state, action.payload);\n      sendEventToGa(newState);\n      registerVote(newState);\n      return newState;\n    default:\n      return state;\n  }\n};\n","import createStore from \"../store/index.js\";\nimport applyMiddleware from \"../store/applyMiddleware.js\";\nimport { viewTitle } from \"./views/viewTitle.js\";\nimport { viewQuestion } from \"./views/viewQuestion.js\";\nimport { viewSubmitButton } from \"./views/viewSubmitButton.js\";\nimport { viewForm } from \"./views/viewForm.js\";\nimport { viewFeedback } from \"./views/viewFeedback.js\";\nimport reducer from \"./reducer.js\";\nimport { registerVote, sendEventToGa, isPollVoted } from \"./handlers.js\";\n\nconst logger = store => dispatch => action => {\n  console.group(action.type);\n  console.info(\"previous\", store.getState());\n  let result = dispatch(action);\n  console.log(\"next state\", store.getState());\n  console.groupEnd();\n  return result;\n};\n\nconst render = container => store => {\n  if (container) {\n    const { getState, dispatch } = store;\n    while (container.firstChild) {\n      container.removeChild(container.firstChild);\n    }\n    if (!getState().vote) {\n      container.appendChild(\n        viewForm(getState(), dispatch, [\n          viewTitle,\n          viewQuestion,\n          viewSubmitButton\n        ])\n      );\n    } else {\n      container.appendChild(viewFeedback(getState()));\n    }\n  }\n};\nconst Polls = options => {\n  const defaultSettings = {\n    data: {}\n  };\n  const settings = Object.assign({}, defaultSettings, options);\n  const container = document.getElementById(settings.data.id);\n  return {\n    create() {\n      const store = applyMiddleware(logger)(createStore)(\n        reducer(registerVote, sendEventToGa)\n      );\n\n      store.subscribe(render(container));\n      store.dispatch({\n        type: \"INIT\",\n        payload: settings.data\n      });\n    }\n  };\n};\n\nwindow.pollsList.polls.forEach(poll => {\n  poll.data.vote = isPollVoted(poll.data.doi);\n  Polls(poll).create();\n});\n\nexport { Polls };\n"],"names":["createStore","reducer","initialState","enhancer","undefined","store","state","listeners","getState","dispatch","action","forEach","listener","subscribe","push","index","indexOf","splice","middlewareFactories","factory","tagsList","tag","attributes","element","document","createElement","events","Object","keys","attribute","setAttribute","addEventListener","children","text","textContent","length","fragment","createDocumentFragment","child","appendChild","tags","reduce","acc","next","Element","h1","viewTitle","class","title","submitForm","e","preventDefault","elements","target","Array","prototype","slice","call","nodeName","checked","type","value","concat","payload","vote","join","registerVote","votes","JSON","parse","localStorage","getItem","doi","setItem","stringify","sendEventToGa","cb","window","ga","eventCategory","eventAction","id","eventLabel","articleType","hitCallback","isPollVoted","limitCharacters","max_chars","substr","noop","shuffle","arr","options","map","a","Math","random","sort","b","slugify","string","p","RegExp","split","toString","toLowerCase","replace","c","charAt","label","input","li","ul","checkClosestRadio","parent","closest","querySelector","focusClosestInputText","classList","contains","focus","viewMoreOption","multiple","name","change","keypress","viewOptions","optionList","option","moreOption","for","div","viewQuestion","questions","result","question","button","viewSubmitButton","form","viewForm","submit","span","viewFeedback","thankYouMessageTitle","thankYouMessageText","href","thankYouCtaLink","rel","thankYouCtaText","newState","assign","logger","console","group","info","log","groupEnd","render","container","firstChild","removeChild","Polls","defaultSettings","data","settings","getElementById","create","applyMiddleware","pollsList","polls","poll"],"mappings":"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"}